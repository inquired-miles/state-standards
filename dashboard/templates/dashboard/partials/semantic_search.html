<div class="semantic-search" data-semantic-search data-mode="{{ mode|default:'view' }}">
    <h5 class="mb-3">{{ title|default:'Semantic Concept Search' }}</h5>
    <div class="row">
        <div class="col-md-8">
            <div class="input-group mb-3">
                <input type="text" class="form-control" data-search-query placeholder="Enter educational concept (e.g., 'fraction operations', 'algebraic thinking')">
                <button class="btn btn-primary" type="button" data-search-button>Search</button>
            </div>
        </div>
        <div class="col-md-4">
            <select class="form-select" data-search-limit>
                <option value="10">Top 10 Results</option>
                <option value="20" selected>Top 20 Results</option>
                <option value="50">Top 50 Results</option>
                <option value="100">Top 100 Results</option>
                <option value="500">All Results</option>
            </select>
        </div>
    </div>

    <div class="d-none text-center" data-search-loading>
        <div class="spinner-border text-primary" role="status"></div>
        <p class="mt-2">Searching...</p>
    </div>

    <div class="d-none" data-results-container>
        <div class="row">
            <div class="col-md-8">
                <h6>Search Results</h6>
                <div class="search-results" data-results-list></div>
            </div>
            <div class="col-md-4">
                <h6>State Emphasis Ranking</h6>
                <div class="search-results" data-state-emphasis></div>
            </div>
        </div>
    </div>

    {% if enable_selection %}
    <div class="mt-3" data-selection-panel>
        <h6>Selected Standards (<span data-selection-count>0</span>)</h6>
        <div class="selected-results small" data-selected-list></div>
        <div class="d-flex justify-content-end gap-2 mt-3">
            <button type="button" class="btn btn-outline-secondary" data-clear-selection>Clear Selection</button>
            <button type="button" class="btn btn-primary" data-confirm-selection>Save Cluster</button>
        </div>
    </div>
    {% endif %}
</div>
